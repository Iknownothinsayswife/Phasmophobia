(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a44e"],{bb91:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Grid",[s("div",{staticClass:"mb-3"},[s("TButton",{staticClass:"mr-2",on:{click:function(t){e.configure=!e.configure}}},[e.configure?[e._v(" Close ")]:[e._v(" Configure ")]],2)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.configure,expression:"configure"}],staticClass:"border p-3 rounded"},[s("ListTextArea",{attrs:{title:"Names",items:e.names},on:{save:e.saveNames}}),s("ListTextArea",{attrs:{title:"Models",items:e.models},on:{save:e.saveModels}}),s("ListTextArea",{attrs:{title:"Real Estate Agent traits",items:e.agentTraits},on:{save:e.saveAgentTraits}}),s("ListTextArea",{attrs:{title:"Guest traits",items:e.guestTraits},on:{save:e.saveGuestTraits}})],1),e.ready?s("Grid",{attrs:{cols:"5"}},[s("span",{staticClass:"border-b py-2"},[e._v("Naam")]),s("span",{staticClass:"border-b py-2"},[e._v("Goestoe keuze")]),s("span",{staticClass:"border-b py-2"},[e._v("Model keuze")]),s("span",{staticClass:"border-b py-2"},[e._v("Job")]),s("span",{staticClass:"border-b py-2"},[e._v("Trait")]),e._l(e.people,(function(t){return[s("span",{key:t.name+"_name",staticClass:"my-auto",domProps:{textContent:e._s(t.name)}}),s("TSelect",{key:t.name+"_ghostChoice",class:{"text-yellow-400":"none"!==t.ghostChoice},attrs:{options:e.ghostNames},model:{value:t.ghostChoice,callback:function(s){e.$set(t,"ghostChoice",s)},expression:"person.ghostChoice"}}),s("TSelect",{key:t.name+"_modelChoice",class:{"text-yellow-400":"none"!==t.modelChoice},attrs:{options:e.models},model:{value:t.modelChoice,callback:function(s){e.$set(t,"modelChoice",s)},expression:"person.modelChoice"}}),s("span",{key:t.name+"_job",staticClass:"my-auto",class:{"text-yellow-400":"agent"===t.job},domProps:{textContent:e._s(t.job)}}),s("span",{key:t.name+"_trait",staticClass:"my-auto",domProps:{textContent:e._s(t.trait)}})]}))],2):e._e()],1)},n=[],i=s("d3e3"),o=s("8207"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.title?s("TTag",{attrs:{"tag-name":"h2",variant:"title"}},[s("span",{domProps:{textContent:e._s(e.title)}})]):e._e(),s("TTextarea",{attrs:{tabindex:"0",placeholder:"one entry per line or comma separated",name:"",rows:"4"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},l=[],m={name:"ListTextArea",props:{title:{type:String,default:null},items:{type:Array,default:null}},data(){return{value:"",split:null}},beforeMount(){this.items&&(this.value=this.items.map(e=>"string"!==typeof e?e.text:e).join("\n"))},methods:{save(e){if(e){if(e.shiftKey||e.ctrlKey)return;e.preventDefault()}let t;t=this.value.includes("\n")?"\n":",";const s=this.value.split(t).filter(Boolean);s.length&&(this.split=s,this.$emit("save",s))}}},h=m,u=s("2877"),c=Object(u["a"])(h,r,l,!1,null,null,null),d=c.exports;function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s("d9e2");class g{constructor(e){p(this,"items",null),p(this,"assignedItems",{}),p(this,"usedUp",!1),this.items=e.map(e=>{var t;if("string"===typeof e&&(e={name:e}),!e.name)throw new Error("Item is missing name property.");return{name:e.name,limit:null!==(t=e.limit)&&void 0!==t?t:1}})}getRandomItem(){if(this.usedUp||this.items.every(this.itemLimitReached.bind(this)))return this.usedUp=!0,null;const e=Math.floor(Math.random()*this.items.length),t=this.items[e];return this.itemLimitReached(t)?this.getRandomItem():t}generate(){const e=this.getRandomItem();return e?(this.assignedItems.hasOwnProperty(e.name)?this.assignedItems[e.name]++:this.assignedItems[e.name]=1,e.name):e}itemLimitReached(e){const t=this.assignedItems[e.name];return t&&t>=e.limit}}var v=s("a79b");const b=i["a"].load("shotmophobia_names")||[],f=i["a"].load("shotmophobia_guest_traits")||[],y=i["a"].load("shotmophobia_agent_traits")||[],_=i["a"].load("shotmophobia_models")||[],T=[{text:"None",value:"none"},...v["a"].map(e=>({text:e.name,value:e.key}))];var C={name:"Shotmophobia",components:{ListTextArea:d,Grid:o["a"]},data(){return{generators:{},configure:!b.length||!f.length||!y.length||!_.length,names:b,guestTraits:f,agentTraits:y,ghostNames:T,models:_}},computed:{ready(){return this.names.length&&this.models.length&&this.agentTraits.length&&this.guestTraits.length},people(){return this.names.map(e=>{const t=this.generators.jobs.generate(),s="agent"===t?this.generators.agentTraits:this.generators.guestTraits,a=s.generate();return{name:e,ghostChoice:"none",modelChoice:"none",trait:a,job:t}})}},beforeMount(){this.createGenerators()},methods:{createGenerators(){this.generators.jobs=new g([{name:"agent"},{name:"guest",limit:1/0}]),this.generators.agentTraits=new g(this.agentTraits),this.generators.guestTraits=new g(this.guestTraits)},saveNames(e){this.names=e,this.$eventBus.save("shotmophobia_names",e)},saveAgentTraits(e){this.agentTraits=e,this.$eventBus.save("shotmophobia_agent_traits",e)},saveGuestTraits(e){this.guestTraits=e,this.$eventBus.save("shotmophobia_guest_traits",e)},saveModels(e){e.unshift({text:"None",value:"none"}),this.models=e,this.$eventBus.save("shotmophobia_models",e)}}},x=C,w=Object(u["a"])(x,a,n,!1,null,null,null);t["default"]=w.exports}}]);